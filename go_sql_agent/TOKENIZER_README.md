# –¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (Data Masking)

## –û–ø–∏—Å–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏ –∑–∞—â–∏—â–∞–µ—Ç –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç —É—Ç–µ—á–∫–∏ –≤ LLM, –∑–∞–º–µ–Ω—è—è —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ —Ç–æ–∫–µ–Ω—ã –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π.

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     –¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   –ë–∞–∑–∞      ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂  ‚îÇ   LLM   ‚îÇ
‚îÇ   –¥–∞–Ω–Ω—ã—Ö    ‚îÇ   NAME_001          ‚îÇ         ‚îÇ
‚îÇ             ‚îÇ   ADDR_001          ‚îÇ  –í–∏–¥–∏—Ç  ‚îÇ
‚îÇ –ò–≤–∞–Ω–æ–≤ –ü–µ—Ç—Ä ‚îÇ   DATE_001          ‚îÇ —Ç–æ–ª—å–∫–æ  ‚îÇ
‚îÇ –ú–æ—Å–∫–≤–∞      ‚îÇ                     ‚îÇ —Ç–æ–∫–µ–Ω—ã  ‚îÇ
‚îÇ 1990-05-15  ‚îÇ                     ‚îÇ         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
      ‚îÇ
      ‚îÇ –î–µ—Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è
      ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ CSV —Ñ–∞–π–ª—ã   ‚îÇ
‚îÇ             ‚îÇ
‚îÇ –ò–≤–∞–Ω–æ–≤ –ü–µ—Ç—Ä ‚îÇ  ‚óÄ‚îÄ‚îÄ –†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ –ú–æ—Å–∫–≤–∞      ‚îÇ      –≤ –≤—ã—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö
‚îÇ 1990-05-15  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –ü—Ä–∏–º–µ—Ä—ã —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏

### –î–æ —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏ (—Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –ë–î):
```
id=1, name=–ò–≤–∞–Ω–æ–≤ –ü–µ—Ç—Ä –°–µ—Ä–≥–µ–µ–≤–∏—á, birth_date=1990-05-15, district=–ú–æ—Å–∫–≤–∞
```

### –ü–æ—Å–ª–µ —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏ (—á—Ç–æ –≤–∏–¥–∏—Ç LLM):
```
id=ID_001, name=NAME_001, birth_date=DATE_001, district=ADDR_001
```

### –í CSV —Ñ–∞–π–ª–µ (–¥–µ—Ç–æ–∫–µ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ):
```
id,–¥–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è,—Ä–∞–π–æ–Ω_–ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è
1,1990-05-15,–ú–æ—Å–∫–≤–∞
```

## –¢–∏–ø—ã —Ç–æ–∫–µ–Ω–æ–≤

| –¢–∏–ø —Ç–æ–∫–µ–Ω–∞ | –ü—Ä–µ—Ñ–∏–∫—Å | –ü—Ä–∏–º–µ—Ä—ã –ø–æ–ª–µ–π |
|------------|---------|---------------|
| NAME       | NAME_   | name, full_name, fio |
| DATE       | DATE_   | birth_date, date, created_at |
| ID         | ID_     | id, patient_id |
| ADDR       | ADDR_   | address, district, region |
| PHONE      | PHONE_  | phone, telephone |
| EMAIL      | EMAIL_  | email, mail |
| DIAG       | DIAG_   | diagnosis, disease |
| DRUG       | DRUG_   | drug, medication |
| NUM        | NUM_    | salary, income, amount |

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### .env —Ñ–∞–π–ª

```env
# –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—é
TOKENIZER_ENABLED=true

# –°–ø–∏—Å–æ–∫ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –µ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
# TOKENIZER_SENSITIVE_FIELDS=name,phone,email,address
```

### –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–ï—Å–ª–∏ `TOKENIZER_SENSITIVE_FIELDS` –Ω–µ —É–∫–∞–∑–∞–Ω, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–ª—è:
- **–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: name, full_name, first_name, last_name, middle_name
- **–ö–æ–Ω—Ç–∞–∫—Ç—ã**: phone, email, address
- **–î–∞—Ç—ã**: birth_date, birthdate
- **–§–∏–Ω–∞–Ω—Å—ã**: salary, income, account, card_number
- **–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ**: diagnosis, disease, drug, medication, prescription
- **–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è**: district, region

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ß—Ç–æ –∑–∞—â–∏—â–µ–Ω–æ:
- ‚úÖ –í—Å–µ –¥–∞–Ω–Ω—ã–µ, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –≤ LLM (—á–µ—Ä–µ–∑ GetTableSample)
- ‚úÖ –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ç–∞–±–ª–∏—Ü

### –ß—Ç–æ –ù–ï —Ç–æ–∫–µ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è:
- ‚úÖ –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–∑–≤–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü –∏ –∫–æ–ª–æ–Ω–æ–∫)
- ‚úÖ SQL –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–µ CSV —Ñ–∞–π–ª—ã (—Å–æ–¥–µ—Ä–∂–∞—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)

## –ö–∞–∫ —ç—Ç–æ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞–±–æ—Ç—É –∞–≥–µ–Ω—Ç–∞

1. **LLM –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É** - –≤–∏–¥–∏—Ç –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü –∏ –∫–æ–ª–æ–Ω–æ–∫
2. **LLM –≤–∏–¥–∏—Ç –ø—Ä–∏–º–µ—Ä—ã** - –Ω–æ –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤–∏–¥–∏—Ç —Ç–æ–∫–µ–Ω—ã
3. **LLM —Å–æ–∑–¥–∞–µ—Ç SQL –∑–∞–ø—Ä–æ—Å—ã** - –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ö–µ–º—ã –∏ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
4. **CSV —ç–∫—Å–ø–æ—Ä—Ç** - —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–¥–µ—Ç–æ–∫–µ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)

## –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã

### 1. LLM –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø—Ä–∏–º–µ—Ä—ã –∏–∑ —Ç–∞–±–ª–∏—Ü—ã patients

**–ó–∞–ø—Ä–æ—Å:**
```
GetTableSample(table_name: "patients")
```

**–û—Ç–≤–µ—Ç (—á—Ç–æ –≤–∏–¥–∏—Ç LLM):**
```
–°—Ç—Ä–æ–∫–∞ 1: id=ID_001, birth_date=DATE_001, gender=male, district=ADDR_001, region=ADDR_002
–°—Ç—Ä–æ–∫–∞ 2: id=ID_002, birth_date=DATE_002, gender=female, district=ADDR_003, region=ADDR_004
```

### 2. LLM —Å–æ–∑–¥–∞–µ—Ç SQL –∑–∞–ø—Ä–æ—Å

```sql
SELECT id, birth_date AS –¥–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è, gender AS –ø–æ–ª,
       district AS —Ä–∞–π–æ–Ω_–ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è, region AS —Ä–µ–≥–∏–æ–Ω
FROM patients
```

### 3. –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV (—Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)

**patients.csv:**
```csv
id,–¥–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è,–ø–æ–ª,—Ä–∞–π–æ–Ω_–ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è,—Ä–µ–≥–∏–æ–Ω
1,1990-05-15,male,–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π,–ú–æ—Å–∫–≤–∞
2,1985-03-20,female,–°–µ–≤–µ—Ä–Ω—ã–π,–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥
```

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –∞–≥–µ–Ω—Ç –≤—ã–≤–æ–¥–∏—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏:

```
=== –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏ ===
‚ÑπÔ∏è  –í—Å–µ–≥–æ —Ç–æ–∫–µ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–π: 150
‚ÑπÔ∏è  –¢–∏–ø–æ–≤ —Ç–æ–∫–µ–Ω–æ–≤: 5
üîç NAME: 50 –∑–Ω–∞—á–µ–Ω–∏–π
üîç DATE: 30 –∑–Ω–∞—á–µ–Ω–∏–π
üîç ADDR: 40 –∑–Ω–∞—á–µ–Ω–∏–π
üîç DIAG: 20 –∑–Ω–∞—á–µ–Ω–∏–π
üîç DRUG: 10 –∑–Ω–∞—á–µ–Ω–∏–π
‚ÑπÔ∏è  –í—Å–µ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –±—ã–ª–∏ –∑–∞—â–∏—â–µ–Ω—ã –æ—Ç LLM
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

‚úÖ **–ü–æ–ª–Ω–∞—è –∑–∞—â–∏—Ç–∞** - LLM –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–∏–¥–∏—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
‚úÖ **–ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è/–¥–µ—Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è
‚úÖ **–ù–µ —Ç–µ—Ä—è–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–∫—Å—Ç** - LLM –ø–æ–Ω–∏–º–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
‚úÖ **–†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ output** - CSV —Ñ–∞–π–ª—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
‚úÖ **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å** - –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –æ–¥–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π

## –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è):

```env
TOKENIZER_ENABLED=false
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –≤ LLM –±–µ–∑ –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏—è.

‚ö†Ô∏è **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ**: –û—Ç–∫–ª—é—á–∞–π—Ç–µ —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—é —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –Ω–µ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã!