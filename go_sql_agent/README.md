# SQL Agent –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö

–ê–≥–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–∞–º –¥–∞–Ω–Ω—ã—Ö (PostgreSQL, MySQL), –∞–Ω–∞–ª–∏–∑–∞ —Å—Ö–µ–º—ã –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö —Å —ç–∫—Å–ø–æ—Ä—Ç–æ–º –≤ CSV —Ñ–æ—Ä–º–∞—Ç.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PostgreSQL –∏ MySQL
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω—É–∂–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SQL –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –ø–æ–º–æ—â—å—é LLM
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ CSV —Å –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏–º–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ SELECT –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–∞–ø–ø–∏–Ω–≥ –∫–æ–ª–æ–Ω–æ–∫ –Ω–∞ —Ä—É—Å—Å–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Go 1.25.1 –∏–ª–∏ –≤—ã—à–µ
- Docker –∏ Docker Compose (–¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–π –ë–î)
- API –∫–ª—é—á –¥–ª—è Qwen LLM

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å —Ç–µ—Å—Ç–æ–≤–æ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:**

```bash
# PostgreSQL
docker-compose up -d postgres

# –ò–ª–∏ MySQL
docker-compose up -d mysql
```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**

```bash
# –î–ª—è PostgreSQL
cp .env.postgres .env

# –ò–ª–∏ –¥–ª—è MySQL
cp .env.mysql .env
```

3. **–£–∫–∞–∂–∏—Ç–µ –≤–∞—à API –∫–ª—é—á Qwen –≤ `.env`:**

```env
QWEN_API_KEY=your_actual_api_key_here
```

4. **–°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:**

```bash
go build -o go_sql_agent.exe .\cmd\main.go
.\go_sql_agent.exe
```

### –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

–¢–µ—Å—Ç–æ–≤–∞—è –±–∞–∑–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç:
- üè• **15 –¥–∏–∞–≥–Ω–æ–∑–æ–≤ –ú–ö–ë-10** (–æ—Ç —Ö–æ–ª–µ—Ä—ã –¥–æ –ø–æ—á–µ—á–Ω–æ–π –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç–∏)
- üë• **15 –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤** –∏–∑ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–π–æ–Ω–æ–≤ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞ –∏ –ú–æ—Å–∫–≤—ã
- üíä **25 —Ä–µ—Ü–µ–ø—Ç–æ–≤** –∑–∞ –ø–µ—Ä–∏–æ–¥ 2019-2024 –≥–æ–¥–æ–≤

–ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. [db/README.md](db/README.md)

### –°–±–æ—Ä–∫–∞

```bash
go build -o go_sql_agent.exe .\cmd\main.go
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`:

```env
# Qwen API Configuration
QWEN_MODEL=qwen/qwen3-coder-30b-a3b-instruct
QWEN_API_KEY=your_api_key_here
QWEN_BASE_URL=https://api.openai.com/v1

# Database Configuration
DB_TYPE=postgres
DB_HOST=localhost
DB_PORT=5432
DB_USER=your_db_user
DB_PASSWORD=your_db_password
DB_NAME=your_database_name
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

#### Qwen API
- `QWEN_MODEL` - –º–æ–¥–µ–ª—å –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: qwen/qwen3-coder-30b-a3b-instruct)
- `QWEN_API_KEY` - API –∫–ª—é—á –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ Qwen
- `QWEN_BASE_URL` - –±–∞–∑–æ–≤—ã–π URL API

#### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- `DB_TYPE` - —Ç–∏–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: `postgres` –∏–ª–∏ `mysql`
- `DB_HOST` - —Ö–æ—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: localhost)
- `DB_PORT` - –ø–æ—Ä—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (5432 –¥–ª—è Postgres, 3306 –¥–ª—è MySQL)
- `DB_USER` - –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ë–î (**–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**)
- `DB_PASSWORD` - –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ë–î (**–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**)
- `DB_NAME` - –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (**–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**)

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

```bash
go_sql_agent.exe
```

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∞–≥–µ–Ω—Ç –∏—â–µ—Ç —Ñ–∞–π–ª `.env` –≤ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.

### –ó–∞–ø—É—Å–∫ —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º —Ñ–∞–π–ª–æ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
go_sql_agent.exe -cfg path/to/your/config.env
```

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∞–≥–µ–Ω—Ç

1. **–ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö** –∏—Å–ø–æ–ª—å–∑—É—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ `.env`
2. **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ö–µ–º—É** - –ø–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü –∏ –∫–æ–ª–æ–Ω–æ–∫
3. **–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω—É–∂–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã** - –∏—â–µ—Ç —Ç–∞–±–ª–∏—Ü—ã —Å –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
4. **–ü–æ–ª—É—á–∞–µ—Ç –ø—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö** - –±–µ—Ä–µ—Ç –ø–µ—Ä–≤—ã–µ 10 —Å—Ç—Ä–æ–∫ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
5. **–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç SQL –∑–∞–ø—Ä–æ—Å—ã** - —Å–æ–∑–¥–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
6. **–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –≤ CSV** - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ —Ñ–∞–π–ª—ã:
   - `diagnoses.csv` - –¥–∏–∞–≥–Ω–æ–∑—ã (–∫–æ–¥ –ú–ö–ë, –Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–ª–∞—Å—Å –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è)
   - `patients.csv` - –ø–∞—Ü–∏–µ–Ω—Ç—ã (id, –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è, –ø–æ–ª, —Ä–∞–π–æ–Ω, —Ä–µ–≥–∏–æ–Ω)
   - `receips.csv` - —Ä–µ—Ü–µ–ø—Ç—ã (–¥–∞—Ç–∞, –∫–æ–¥ –¥–∏–∞–≥–Ω–æ–∑–∞, –∫–æ–¥ –ø—Ä–µ–ø–∞—Ä–∞—Ç–∞, id –ø–∞—Ü–∏–µ–Ω—Ç–∞)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—ã—Ö–æ–¥–Ω—ã—Ö CSV —Ñ–∞–π–ª–æ–≤

### diagnoses.csv
```csv
–∫–æ–¥_–º–∫–±,–Ω–∞–∑–≤–∞–Ω–∏–µ_–¥–∏–∞–≥–Ω–æ–∑–∞,–∫–ª–∞—Å—Å_–∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è
a00,—Ö–æ–ª–µ—Ä–∞,–Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–Ω—Ñ–µ–∫—Ü–∏–æ–Ω–Ω—ã–µ –∏ –ø–∞—Ä–∞–∑–∏—Ç–∞—Ä–Ω—ã–µ –±–æ–ª–µ–∑–Ω–∏
```

### patients.csv
```csv
id,–¥–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è,–ø–æ–ª,—Ä–∞–π–æ–Ω_–ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è,—Ä–µ–≥–∏–æ–Ω
2,1958-05-08,–∂,–ø—É—à–∫–∏–Ω—Å–∫–∏–π,—Å–∞–Ω–∫—Ç-–ø–µ—Ç–µ—Ä–±—É—Ä–≥
```

### receips.csv
```csv
–¥–∞—Ç–∞_—Ä–µ—Ü–µ–ø—Ç–∞,–∫–æ–¥_–¥–∏–∞–≥–Ω–æ–∑–∞,–∫–æ–¥_–ø—Ä–µ–ø–∞—Ä–∞—Ç–∞,id_–ø–∞—Ü–∏–µ–Ω—Ç–∞
2019-04-29 18:29:06,e10,201000730,80022
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω—ã —Ç–æ–ª—å–∫–æ SELECT –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ –ó–∞–ø—Ä–µ—â–µ–Ω—ã DROP, DELETE, UPDATE, INSERT –æ–ø–µ—Ä–∞—Ü–∏–∏
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω connection pooling (max 10 —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è SQL –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ë–î —Ç–æ–ª—å–∫–æ —Å –ø—Ä–∞–≤–∞–º–∏ SELECT
- –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ read-only replica –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
go_sql_agent/
‚îú‚îÄ‚îÄ cmd/
‚îÇ   ‚îî‚îÄ‚îÄ main.go              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îú‚îÄ‚îÄ config.go            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–∑ .env
‚îÇ   ‚îú‚îÄ‚îÄ llm_clients.go       # Qwen –º–æ–¥–µ–ª—å (OpenAI-compatible)
‚îÇ   ‚îú‚îÄ‚îÄ database_tools.go    # –§—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ tools.go             # ADK Tool –æ–±–µ—Ä—Ç–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ csv_exporter.go      # –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV
‚îú‚îÄ‚îÄ example/
‚îÇ   ‚îú‚îÄ‚îÄ diagnoses.csv        # –ü—Ä–∏–º–µ—Ä —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∏–∞–≥–Ω–æ–∑–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ patients.csv         # –ü—Ä–∏–º–µ—Ä —Ñ–æ—Ä–º–∞—Ç–∞ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ receips.csv          # –ü—Ä–∏–º–µ—Ä —Ñ–æ—Ä–º–∞—Ç–∞ —Ä–µ—Ü–µ–ø—Ç–æ–≤
‚îú‚îÄ‚îÄ go.mod
‚îú‚îÄ‚îÄ .env.example
‚îî‚îÄ‚îÄ README.md
```

## –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–≥–µ–Ω—Ç–∞

–ê–≥–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 4 –æ—Å–Ω–æ–≤–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞:

1. **connect_database** - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
2. **get_database_schema** - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
3. **get_table_sample** - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–µ—Ä–≤—ã—Ö 10 —Å—Ç—Ä–æ–∫ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã
4. **execute_query** - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ SELECT –∑–∞–ø—Ä–æ—Å–∞ –∏ —ç–∫—Å–ø–æ—Ä—Ç –≤ CSV

## –ú–∞–ø–ø–∏–Ω–≥ –∫–æ–ª–æ–Ω–æ–∫

–ê–≥–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫ –Ω–∞ —Ä—É—Å—Å–∫–∏–π:

| English | –†—É—Å—Å–∫–∏–π |
|---------|---------|
| code, icd_code | –∫–æ–¥_–º–∫–± |
| diagnosis, name | –Ω–∞–∑–≤–∞–Ω–∏–µ_–¥–∏–∞–≥–Ω–æ–∑–∞ |
| class, disease_class | –∫–ª–∞—Å—Å_–∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è |
| id, patient_id | id |
| birth_date, birthdate | –¥–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è |
| gender, sex | –ø–æ–ª |
| district | —Ä–∞–π–æ–Ω_–ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è |
| region, city | —Ä–µ–≥–∏–æ–Ω |
| prescription_date, date | –¥–∞—Ç–∞_—Ä–µ—Ü–µ–ø—Ç–∞ |
| diagnosis_code | –∫–æ–¥_–¥–∏–∞–≥–Ω–æ–∑–∞ |
| drug_code, medicine_code | –∫–æ–¥_–ø—Ä–µ–ø–∞—Ä–∞—Ç–∞ |

## –§–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö

- **–î–∞—Ç—ã**: `YYYY-MM-DD` (–Ω–∞–ø—Ä–∏–º–µ—Ä: 1958-05-08)
- **Timestamp**: `YYYY-MM-DD HH:MM:SS` (–Ω–∞–ø—Ä–∏–º–µ—Ä: 2019-04-29 18:29:06)
- **–ö–æ–¥–∏—Ä–æ–≤–∫–∞**: UTF-8
- **–†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å CSV**: –∑–∞–ø—è—Ç–∞—è

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç —Å PostgreSQL

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –±–∞–∑—É
docker-compose up -d postgres

# 2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥
copy .env.postgres .env

# 3. –î–æ–±–∞–≤–∏—Ç—å –≤–∞—à QWEN_API_KEY –≤ .env

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≥–µ–Ω—Ç–∞
go build -o go_sql_agent.exe .\cmd\main.go
.\go_sql_agent.exe

# 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
dir *.csv
```

### –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç —Å MySQL

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –±–∞–∑—É
docker-compose up -d mysql

# 2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥
copy .env.mysql .env

# 3. –î–æ–±–∞–≤–∏—Ç—å –≤–∞—à QWEN_API_KEY –≤ .env

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≥–µ–Ω—Ç–∞
go build -o go_sql_agent.exe .\cmd\main.go
.\go_sql_agent.exe

# 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
dir *.csv
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –ë–î

```bash
# PostgreSQL
docker exec -it medical_db_postgres psql -U meduser -d medical_db -c "SELECT COUNT(*) FROM patients;"

# MySQL
docker exec -it medical_db_mysql mysql -u meduser -pmedpass123 medical_db -e "SELECT COUNT(*) FROM patients;"
```

### PostgreSQL

```env
DB_TYPE=postgres
DB_HOST=localhost
DB_PORT=5432
DB_USER=meduser
DB_PASSWORD=securepass
DB_NAME=medical_db
```

### MySQL

```env
DB_TYPE=mysql
DB_HOST=localhost
DB_PORT=3306
DB_USER=meduser
DB_PASSWORD=securepass
DB_NAME=medical_db
```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î

```
–æ—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö: dial tcp [::1]:5432: connect: connection refused
```

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–ø—É—â–µ–Ω–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ host –∏ port
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall –ø—Ä–∞–≤–∏–ª–∞

### –ù–µ–≤–µ—Ä–Ω—ã–µ –∫—Ä–µ–¥—ã

```
QWEN_API_KEY is required
```

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `.env` —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

### –ù–µ –Ω–∞—Ö–æ–¥–∏—Ç —Ç–∞–±–ª–∏—Ü—ã

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ schema (–¥–ª—è Postgres –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `public`)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –Ω–∞ —á—Ç–µ–Ω–∏–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä –Ω–∞–∑–≤–∞–Ω–∏–π —Ç–∞–±–ª–∏—Ü (–æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è MySQL)

## –õ–∏—Ü–µ–Ω–∑–∏—è

Apache 2.0

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.
